let currentProjectIndex=0;let currentImageIndex=0;function openServiceModal(index){const service=services[index];document.getElementById('modalTitle').textContent=service.title;document.getElementById('modalBody').innerHTML=`<p>${service.description}</p><h3>Servicios Incluidos:</h3><ul>${service.items.map(item=>`<li>${item}</li>`).join('')}</ul>`;document.getElementById('serviceModal').classList.add('active')}function closeModal(modalId){document.getElementById(modalId).classList.remove('active')}function openLightbox(projectIndex){const project=portfolio[projectIndex];currentProjectIndex=projectIndex;currentImageIndex=0;document.getElementById('lightboxTitle').textContent=project.title;document.getElementById('lightboxDescription').textContent=project.description;updateLightboxImage();renderGalleryThumbs();document.getElementById('lightbox').classList.add('active')}function closeLightbox(){document.getElementById('lightbox').classList.remove('active')}function updateLightboxImage(){const project=portfolio[currentProjectIndex];const img=document.getElementById('lightboxImg');const label=project.images[currentImageIndex];img.textContent=label;img.style.background=`linear-gradient(135deg, hsl(${currentImageIndex*90}, 60%, 55%), hsl(${currentImageIndex*90+45}, 60%, 55%))`;renderGalleryThumbs()}function renderGalleryThumbs(){const project=portfolio[currentProjectIndex];const total=project.images.length;const percentage=((currentImageIndex+1)/total)*100;const container=document.getElementById('galleryThumbs');container.innerHTML=`<div class="progress-bar"><div class="progress-fill" style="width: ${percentage}%"></div></div><div class="gallery-info"><span>${currentImageIndex+1} / ${total}</span><span class="gallery-label">${project.images[currentImageIndex]}</span></div>`}function nextImage(){const project=portfolio[currentProjectIndex];currentImageIndex=(currentImageIndex+1)%project.images.length;updateLightboxImage()}function prevImage(){const project=portfolio[currentProjectIndex];currentImageIndex=(currentImageIndex-1+project.images.length)%project.images.length;updateLightboxImage()}function filterPortfolio(category){const filtered=category==='todos'?portfolio:portfolio.filter(p=>p.category===category);document.querySelectorAll('.filter-btn').forEach(btn=>btn.classList.remove('active'));event.target.classList.add('active');renderPortfolio(filtered)}function renderPortfolio(items){const grid=document.getElementById('portfolioGrid');grid.innerHTML=items.map((item,idx)=>`<div class="portfolio-item"><div class="portfolio-img" onclick="openLightbox(${portfolio.indexOf(item)})">üè¢<button class="view-gallery-btn" onclick="openLightbox(${portfolio.indexOf(item)}); event.stopPropagation();">Ver Galer√≠a</button></div><div class="portfolio-info"><span class="portfolio-category">${item.category}</span><h3>${item.title}</h3><p>${item.description}</p><p style="margin-top: 0.5rem; font-size: 0.85rem; color: var(--text-light);">${item.area} | ${item.year}</p></div></div>`).join('')}function renderTeam(){const grid=document.getElementById('teamGrid');grid.innerHTML=team.map(member=>`<div class="team-member" onclick="openTeamModal('${member.name}')"><div class="member-avatar">${member.avatar}</div><h3>${member.name}</h3><p><strong>${member.role}</strong></p><p>${member.experience} de experiencia</p></div>`).join('')}function openTeamModal(name){const member=team.find(m=>m.name===name);document.getElementById('modalTitle').textContent=member.name;document.getElementById('modalBody').innerHTML=`<p><strong>${member.role}</strong></p><p style="margin-bottom: 1rem;">${member.experience} a√±os de experiencia</p><h3>Acerca de:</h3><p>${member.bio}</p>`;document.getElementById('serviceModal').classList.add('active')}function handleFormSubmit(event){event.preventDefault();const formData={nombre:document.getElementById('nombre').value,email:document.getElementById('email').value,telefono:document.getElementById('telefono').value,servicio:document.getElementById('servicio').value,mensaje:document.getElementById('mensaje').value,timestamp:new Date().toISOString()};let contacts=JSON.parse(localStorage.getItem('asymmetric_contacts'))||[];contacts.push(formData);localStorage.setItem('asymmetric_contacts',JSON.stringify(contacts));const message=document.getElementById('formMessage');message.textContent='‚úì Solicitud enviada correctamente. Nos contactaremos pronto.';message.classList.add('success');document.getElementById('contactForm').reset();setTimeout(()=>{message.classList.remove('success')},5000)}window.addEventListener('DOMContentLoaded',()=>{renderPortfolio(portfolio);renderTeam()});window.addEventListener('click',(event)=>{const modal=document.getElementById('serviceModal');const lightbox=document.getElementById('lightbox');if(event.target===modal)modal.classList.remove('active');if(event.target===lightbox)closeLightbox()});document.addEventListener('keydown',(e)=>{if(!document.getElementById('lightbox').classList.contains('active'))return;if(e.key==='ArrowRight')nextImage();if(e.key==='ArrowLeft')prevImage();if(e.key==='Escape')closeLightbox()});